<p-toast [life]="5000" />

<div class="flex justify-end mb-2">
	<p-button (onClick)="toggleDialog()" label="create" class="bg-zinc-100 rounded px-4 py-2" />
</div>

<p-table [value]="users" styleClass="text-sm">
	<ng-template pTemplate="header">
		<tr>
			<th>Name</th>
			<th>Email</th>
			<th>Phone</th>
			<th>Actions</th>
		</tr>
	</ng-template>
	<ng-template pTemplate="body" let-product>
		<tr>
			<td>{{ product.name }}</td>
			<td>{{ product.email }}</td>
			<td>{{ product.telefono || 'none' }}</td>
			<td>
				<p-confirmPopup />
				<p-button (click)="confirmDelete($event, product.id)"  label="delete"  class="bg-zinc-200 rounded px-4 py-2"/>
			</td>
		</tr>
	</ng-template>
</p-table>

<p-dialog
	draggable="false"
	header="Create user"
	[modal]="true"
	[(visible)]="visible"
	[style]="{ width: '25rem' }"
>
	<span class="p-text-secondary block mb-5">Create a new user</span>

	<ng-container *ngIf="visible">
		<app-form (toggleDialog)="toggleDialog()" (loadUsers)="loadUsers()" (showToast)="showToast($event)"></app-form>
	</ng-container>
</p-dialog>
